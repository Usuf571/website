<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ЭлектроМир - Продажа электроники</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Эффект снега на новый год -->
    <div id="snowflakes" class="snowflakes"></div>
    
    <!-- Красивый анимированный прелоадер -->
    <div id="preloader">
        <svg class="microchip" viewBox="0 0 128 128" width="128px" height="128px" role="img" aria-label="Loading microchip animation">
            <symbol id="dot-1">
                <circle r="3" cx="3" cy="38" />
            </symbol>
            <symbol id="dot-2">
                <circle r="3" cx="3" cy="54" />
            </symbol>
            <symbol id="dot-3">
                <circle r="3" cx="3" cy="70" />
            </symbol>
            <symbol id="dot-4">
                <circle r="3" cx="3" cy="3" />
            </symbol>
            <symbol id="dot-5">
                <circle r="3" cx="20" cy="3" />
            </symbol>
            <symbol id="dot-6">
                <circle r="3" cx="3" cy="30" />
            </symbol>
            <symbol id="dot-7">
                <circle r="3" cx="37" cy="3" />
            </symbol>
            <symbol id="dot-8">
                <circle r="3" cx="54" cy="3" />
            </symbol>
            <symbol id="dot-9">
                <circle r="3" cx="71" cy="3" />
            </symbol>
            <symbol id="line-1">
                <polyline points="12 54,12 46,3 46,3 38" stroke-dasharray="42 42" />
            </symbol>
            <symbol id="line-2">
                <polyline points="29 54,3 54" stroke-dasharray="42 42" />
            </symbol>
            <symbol id="line-3">
                <polyline points="12 54,12 62,3 62,3 70" stroke-dasharray="42 42" />
            </symbol>
            <symbol id="line-4">
                <polyline points="28 20,28 12,20 12,20 3" stroke-dasharray="60 60" />
            </symbol>
            <symbol id="line-5">
                <polyline points="37 29,37 20,3 20,3 3" stroke-dasharray="60 60" />
            </symbol>
            <symbol id="line-6">
                <polyline points="15 20,15 30,3 30" stroke-dasharray="60 60" />
            </symbol>
            <symbol id="line-7">
                <polyline points="54 12,37 12,37 3" stroke-dasharray="43 43" />
            </symbol>
            <symbol id="line-8">
                <polyline points="54 29,54 3" stroke-dasharray="43 43" />
            </symbol>
            <symbol id="line-9">
                <polyline points="54 12,71 12,71 3" stroke-dasharray="43 43" />
            </symbol>
            <symbol id="spark-1">
                <polyline points="12 54,12 46,3 46,3 38" stroke-dasharray="15 69" />
            </symbol>
            <symbol id="spark-2">
                <polyline points="29 54,3 54" stroke-dasharray="15 69" />
            </symbol>
            <symbol id="spark-3">
                <polyline points="12 54,12 62,3 62,3 70" stroke-dasharray="15 69" />
            </symbol>
            <symbol id="spark-4">
                <polyline points="28 20,28 12,20 12,20 3" stroke-dasharray="15 105" />
            </symbol>
            <symbol id="spark-5">
                <polyline points="37 29,37 20,3 20,3 3" stroke-dasharray="15 105" />
            </symbol>
            <symbol id="spark-6">
                <polyline points="15 20,15 30,3 30" stroke-dasharray="15 105" />
            </symbol>
            <symbol id="spark-7">
                <polyline points="54 12,37 12,37 3" stroke-dasharray="15 71" />
            </symbol>
            <symbol id="spark-8">
                <polyline points="54 29,54 3" stroke-dasharray="15 71" />
            </symbol>
            <symbol id="spark-9">
                <polyline points="54 12,71 12,71 3" stroke-dasharray="15 71" />
            </symbol>
            <symbol id="wave">
                <rect x="3" y="3" rx="2.5" ry="2.5" width="44" height="44" />
            </symbol>
            <g transform="translate(10,10)">
                <g class="microchip__lines" stroke-linecap="round" stroke-linejoin="round">
                    <g>
                        <g fill="none" stroke="currentColor">
                            <use class="microchip__line microchip__line--1" href="#line-1" />
                            <use class="microchip__spark microchip__spark--1" href="#spark-1" />
                            <use class="microchip__line microchip__line--2" href="#line-2" />
                            <use class="microchip__spark microchip__spark--2" href="#spark-2" />
                            <use class="microchip__line microchip__line--3" href="#line-3" />
                            <use class="microchip__spark microchip__spark--3" href="#spark-3" />
                        </g>
                        <g fill="currentColor">
                            <use class="microchip__dot microchip__dot--1" href="#dot-1" />
                            <use class="microchip__dot microchip__dot--2" href="#dot-2" />
                            <use class="microchip__dot microchip__dot--3" href="#dot-3" />
                        </g>
                    </g>
                    <g>
                        <g fill="none" stroke="currentColor">
                            <use class="microchip__line microchip__line--4" href="#line-4" />
                            <use class="microchip__spark microchip__spark--4" href="#spark-4" />
                            <use class="microchip__line microchip__line--5" href="#line-5" />
                            <use class="microchip__spark microchip__spark--5" href="#spark-5" />
                            <use class="microchip__line microchip__line--6" href="#line-6" />
                            <use class="microchip__spark microchip__spark--6" href="#spark-6" />
                        </g>
                        <g fill="currentColor">
                            <use class="microchip__dot microchip__dot--4" href="#dot-4" />
                            <use class="microchip__dot microchip__dot--5" href="#dot-5" />
                            <use class="microchip__dot microchip__dot--6" href="#dot-6" />
                        </g>
                    </g>
                    <g>
                        <g fill="none" stroke="currentColor">
                            <use class="microchip__line microchip__line--7" href="#line-7" />
                            <use class="microchip__spark microchip__spark--7" href="#spark-7" />
                            <use class="microchip__line microchip__line--8" href="#line-8" />
                            <use class="microchip__spark microchip__spark--8" href="#spark-8" />
                            <use class="microchip__line microchip__line--9" href="#line-9" />
                            <use class="microchip__spark microchip__spark--9" href="#spark-9" />
                        </g>
                        <g fill="currentColor">
                            <use class="microchip__dot microchip__dot--7" href="#dot-7" />
                            <use class="microchip__dot microchip__dot--8" href="#dot-8" />
                            <use class="microchip__dot microchip__dot--9" href="#dot-9" />
                        </g>
                    </g>
                    <g transform="translate(108,0) scale(-1,1)">
                        <g fill="none" stroke="currentColor">
                            <use class="microchip__line microchip__line--4" href="#line-4" />
                            <use class="microchip__spark microchip__spark--4" href="#spark-4" />
                            <use class="microchip__line microchip__line--5" href="#line-5" />
                            <use class="microchip__spark microchip__spark--5" href="#spark-5" />
                            <use class="microchip__line microchip__line--6" href="#line-6" />
                            <use class="microchip__spark microchip__spark--6" href="#spark-6" />
                        </g>
                        <g fill="currentColor">
                            <use class="microchip__dot microchip__dot--4" href="#dot-4" />
                            <use class="microchip__dot microchip__dot--5" href="#dot-5" />
                            <use class="microchip__dot microchip__dot--6" href="#dot-6" />
                        </g>
                    </g>
                    <g transform="translate(108,0) scale(-1,1)">
                        <g fill="none" stroke="currentColor">
                            <use class="microchip__line microchip__line--1" href="#line-1" />
                            <use class="microchip__spark microchip__spark--1" href="#spark-1" />
                            <use class="microchip__line microchip__line--2" href="#line-2" />
                            <use class="microchip__spark microchip__spark--2" href="#spark-2" />
                            <use class="microchip__line microchip__line--3" href="#line-3" />
                            <use class="microchip__spark microchip__spark--3" href="#spark-3" />
                        </g>
                        <g fill="currentColor">
                            <use class="microchip__dot microchip__dot--1" href="#dot-1" />
                            <use class="microchip__dot microchip__dot--2" href="#dot-2" />
                            <use class="microchip__dot microchip__dot--3" href="#dot-3" />
                        </g>
                    </g>
                    <g transform="translate(108,108) scale(-1,-1)">
                        <g fill="none" stroke="currentColor">
                            <use class="microchip__line microchip__line--4" href="#line-4" />
                            <use class="microchip__spark microchip__spark--4" href="#spark-4" />
                            <use class="microchip__line microchip__line--5" href="#line-5" />
                            <use class="microchip__spark microchip__spark--5" href="#spark-5" />
                            <use class="microchip__line microchip__line--6" href="#line-6" />
                            <use class="microchip__spark microchip__spark--6" href="#spark-6" />
                        </g>
                        <g fill="currentColor">
                            <use class="microchip__dot microchip__dot--4" href="#dot-4" />
                            <use class="microchip__dot microchip__dot--5" href="#dot-5" />
                            <use class="microchip__dot microchip__dot--6" href="#dot-6" />
                        </g>
                    </g>
                    <g transform="translate(0,108) scale(1,-1)">
                        <g fill="none" stroke="currentColor">
                            <use class="microchip__line microchip__line--7" href="#line-7" />
                            <use class="microchip__spark microchip__spark--7" href="#spark-7" />
                            <use class="microchip__line microchip__line--8" href="#line-8" />
                            <use class="microchip__spark microchip__spark--8" href="#spark-8" />
                            <use class="microchip__line microchip__line--9" href="#line-9" />
                            <use class="microchip__spark microchip__spark--9" href="#spark-9" />
                        </g>
                        <g fill="currentColor">
                            <use class="microchip__dot microchip__dot--7" href="#dot-7" />
                            <use class="microchip__dot microchip__dot--8" href="#dot-8" />
                            <use class="microchip__dot microchip__dot--9" href="#dot-9" />
                        </g>
                    </g>
                    <g transform="translate(0,108) scale(1,-1)">
                        <g fill="none" stroke="currentColor">
                            <use class="microchip__line microchip__line--4" href="#line-4" />
                            <use class="microchip__spark microchip__spark--4" href="#spark-4" />
                            <use class="microchip__line microchip__line--5" href="#line-5" />
                            <use class="microchip__spark microchip__spark--5" href="#spark-5" />
                            <use class="microchip__line microchip__line--6" href="#line-6" />
                            <use class="microchip__spark microchip__spark--6" href="#spark-6" />
                        </g>
                        <g fill="currentColor">
                            <use class="microchip__dot microchip__dot--4" href="#dot-4" />
                            <use class="microchip__dot microchip__dot--5" href="#dot-5" />
                            <use class="microchip__dot microchip__dot--6" href="#dot-6" />
                        </g>
                    </g>
                </g>
                <g transform="translate(29,29)">
                    <g class="microchip__center">
                        <g fill="none" stroke="currentColor" stroke-width="6">
                            <use class="microchip__wave microchip__wave--1" href="#wave" />
                            <use class="microchip__wave microchip__wave--2" href="#wave" />
                        </g>
                        <rect class="microchip__core" fill="currentColor" rx="5" ry="5" width="50" height="50" />
                    </g>
                </g>
            </g>
        </svg>
    </div>

    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">ЭлектроМир</div>
                <button class="menu-toggle" onclick="toggleMenu()">☰</button>
                <div class="search-bar">
                    <input type="text" id="searchInput" placeholder="Поиск товаров...">
                </div>
                <div class="categories" id="categoriesMenu">
                    <button class="category-btn active" data-category="all">Все</button>
                    <button class="category-btn" data-category="phones">Телефоны</button>
                    <button class="category-btn" data-category="tablets">Планшеты</button>
                    <button class="category-btn" data-category="laptops">Ноутбуки</button>
                </div>
                <button class="theme-toggle" onclick="toggleDarkMode()" title="Тема">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
                <button class="wishlist-icon" onclick="toggleWishlist()" title="Избранное">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                    <span id="wishlistCount">0</span>
                </button>
                <div class="cart-icon" onclick="toggleCart()" title="Корзина">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    <span id="cartCount">0</span>
                </div>
                <button class="user-btn" onclick="toggleUserMenu()" title="Профиль" id="userBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                </button>
                <a href="admin.html" class="admin-btn">Админка</a>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Фильтры по цене -->
        <div class="filters">
            <label>Цена от: <input type="number" id="minPrice" min="0"></label>
            <label>Цена до: <input type="number" id="maxPrice" min="0"></label>
            <button class="search-btn" onclick="applyFilters()">Применить</button>
        </div>

        <div class="products-grid" id="productsGrid"></div>
        <div class="pagination" id="pagination"></div>
    </main>

    <!-- Модал товара -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- Корзина модал -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="toggleCart()">&times;</span>
            <h3>Корзина (<span id="cartTotalItems">0</span>)</h3>
            <div id="cartItems"></div>
            <p>Итого: <strong id="cartTotal">0</strong> сом</p>
            <button class="btn" onclick="checkout()">Оформить заказ</button>
        </div>
    </div>

    <!-- Вишлист модал -->
    <div id="wishlistModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="toggleWishlist()">&times;</span>
            <h3>Избранное (<span id="wishlistTotalItems">0</span>)</h3>
            <div id="wishlistItems" class="products-grid"></div>
            <p id="wishlistEmpty" style="text-align: center; padding: 2rem; color: #999;">Нет избранных товаров</p>
        </div>
    </div>

    <!-- Модал логина/регистрации -->
    <div id="authModal" class="modal">
        <div class="modal-content" style="max-width: 400px;">
            <span class="close" onclick="toggleAuthModal()">&times;</span>
            
            <!-- Форма логина -->
            <div id="loginForm" class="auth-section">
                <h3>Вход в аккаунт</h3>
                <input type="email" id="loginEmail" placeholder="Email" required>
                <input type="password" id="loginPassword" placeholder="Пароль" required>
                <button class="btn" style="width: 100%; margin-top: 1rem;" onclick="loginUser()">Войти</button>
                <p style="text-align: center; margin-top: 1rem; color: var(--text-secondary);">
                    Нет аккаунта? <a href="#" onclick="switchAuthForm()" style="color: #667eea; text-decoration: none;">Зарегистрироваться</a>
                </p>
            </div>

            <!-- Форма регистрации -->
            <div id="registerForm" class="auth-section" style="display: none;">
                <h3>Создать аккаунт</h3>
                <input type="text" id="registerName" placeholder="Имя" required>
                <input type="email" id="registerEmail" placeholder="Email" required>
                <input type="password" id="registerPassword" placeholder="Пароль" required>
                <input type="password" id="registerConfirm" placeholder="Подтвердить пароль" required>
                <button class="btn" style="width: 100%; margin-top: 1rem;" onclick="registerUser()">Зарегистрироваться</button>
                <p style="text-align: center; margin-top: 1rem; color: var(--text-secondary);">
                    Уже есть аккаунт? <a href="#" onclick="switchAuthForm()" style="color: #667eea; text-decoration: none;">Войти</a>
                </p>
            </div>

            <p id="authError" style="color: red; display: none; margin-top: 1rem; text-align: center;"></p>
        </div>
    </div>

    <!-- Модал профиля пользователя -->
    <div id="profileModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="toggleProfileModal()">&times;</span>
            <h3>Мой профиль</h3>
            
            <div id="profileInfo" style="background: var(--card-bg); padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem;">
                <p><strong>Имя:</strong> <span id="profileName"></span></p>
                <p><strong>Email:</strong> <span id="profileEmail"></span></p>
                <button class="btn" style="background: #6c757d; margin-top: 1rem;" onclick="logoutUser()">Выход</button>
            </div>

            <h4 style="margin-top: 2rem;">История заказов</h4>
            <div id="ordersList" style="max-height: 400px; overflow-y: auto;"></div>
            <p id="noOrders" style="text-align: center; color: #999; padding: 2rem;">Заказов нет</p>
        </div>
    </div>

    <!-- Карусель отзывов -->
    <section class="reviews-section">
        <h2>Отзывы клиентов</h2>
        <div class="carousel">
            <div class="carousel-inner" id="carouselInner"></div>
            <button class="carousel-btn prev" onclick="prevSlide()">&lt;</button>
            <button class="carousel-btn next" onclick="nextSlide()">&gt;</button>
        </div>
    </section>

    <!-- Карта -->
    <section class="map-section">
        <h2>Наш магазин</h2>
<iframe class="map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d97055.12742821533!2d72.72559662466857!3d40.520093785446896!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x38bdac017f5a2e85%3A0xe0a3c61dc6f47b95!2sOsh!5e0!3m2!1sen!2skg!4v1765689577052!5m2!1sen!2skg"allowfullscreen="" loading="lazy"></iframe>
    </section>

    <footer>
        <p>&copy; 2025 TechWorld. Все права защищены.</p>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/scroll-animations.js"></script>
</body>
</html>